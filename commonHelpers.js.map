{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\r\n\r\nconst apiKey = '43846975-899ff2de6e56efd8caf6f887c';\r\nconst apiBase = 'https://pixabay.com/api/';\r\nconst imageType = 'photo';\r\nconst orientation = 'horizontal';\r\nconst safesearch = true;\r\n\r\nfunction fetchImages(searchString) {\r\n  return fetch(\r\n    `${apiBase}?key=${apiKey}&q=${searchString\r\n      .split(' ')\r\n      .join('+')}&image_type=${imageType}&orientation=${orientation}`\r\n  );\r\n}\r\n\r\nexport default fetchImages;\r\n","'use strict';\r\n\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst gallery = document.querySelector('.gallery');\r\nconst lightbox = new SimpleLightbox('.gallery a');\r\n\r\nfunction renderGallery(images) {\r\n  gallery.innerHTML = '';\r\n\r\n  const content = images\r\n    .map(image => {\r\n      return `\r\n            <li class=\"gallery-item\">\r\n                <a href=\"${image.url}\">\r\n                    <div class=\"image-wrapper\">\r\n                        <img\r\n                            src=\"${image.preview}\"\r\n                            alt=\"${image.tags}\"\r\n                        />\r\n                    </div>\r\n                    <div class=\"image-info\">\r\n                        <div class=\"option likes\">\r\n                            <div class=\"key\">Likes</div>\r\n                            <div class=\"value\">${image.likes}</div>\r\n                        </div>\r\n                        <div class=\"option views\">\r\n                            <div class=\"key\">Views</div>\r\n                            <div class=\"value\">${image.views}</div>\r\n                        </div>\r\n                        <div class=\"option comments\">\r\n                            <div class=\"key\">Comments</div>\r\n                            <div class=\"value\">${image.comments}</div>\r\n                        </div>\r\n                        <div class=\"option downloads\">\r\n                            <div class=\"key\">Downloads</div>\r\n                            <div class=\"value\">${image.comments}</div>\r\n                        </div>\r\n                    </div>\r\n                </a>\r\n            </li>\r\n        `;\r\n    })\r\n    .join('');\r\n\r\n  gallery.insertAdjacentHTML('beforeend', content);\r\n  lightbox.refresh();\r\n}\r\n\r\nexport default renderGallery;\r\n","'use strict';\r\n\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nimport fetchImages from './js/pixabay-api';\r\nimport renderGallery from './js/render-functions';\r\n\r\nconst notFoundImages =\r\n  'Sorry, there are no images matching your search query. Please try again!';\r\n\r\nconst form = document.querySelector('form.form');\r\n\r\nform.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n\r\n  const { search } = e.target.elements;\r\n\r\n  if (search.value.trim().length === 0) return false;\r\n\r\n  document.querySelector('.gallery').innerHTML = '<span class=\"loader\"></span>';\r\n\r\n  fetchImages(search.value.trim())\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      } else {\r\n        throw new Error(\r\n          `Status code: ${response.status}. Message: ${\r\n            response.statusText || 'Something went wrong...'\r\n          }`\r\n        );\r\n      }\r\n    })\r\n    .then(data => {\r\n      const transformData = data.hits.map(hit => ({\r\n        preview: hit.webformatURL,\r\n        url: hit.largeImageURL,\r\n        tags: hit.tags,\r\n        likes: hit.likes,\r\n        comments: hit.comments,\r\n        downloads: hit.downloads,\r\n        views: hit.views,\r\n      }));\r\n      if (transformData.length < 1) {\r\n        iziToast.error({\r\n          title: 'No item found',\r\n          message: notFoundImages,\r\n        });\r\n      } else {\r\n        renderGallery(transformData);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n    .finally(() => {\r\n      const loader = document.querySelector('.loader');\r\n      loader ? loader.remove() : null;\r\n    });\r\n\r\n  form.reset();\r\n});\r\n"],"names":["apiKey","apiBase","imageType","orientation","fetchImages","searchString","gallery","lightbox","SimpleLightbox","renderGallery","images","content","image","notFoundImages","form","e","search","response","data","transformData","hit","iziToast","error","loader"],"mappings":"6vBAEA,MAAMA,EAAS,qCACTC,EAAU,2BACVC,EAAY,QACZC,EAAc,aAGpB,SAASC,EAAYC,EAAc,CACjC,OAAO,MACL,GAAGJ,CAAO,QAAQD,CAAM,MAAMK,EAC3B,MAAM,GAAG,EACT,KAAK,GAAG,CAAC,eAAeH,CAAS,gBAAgBC,CAAW,EACnE,CACA,CCTA,MAAMG,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEhD,SAASC,EAAcC,EAAQ,CAC7BJ,EAAQ,UAAY,GAEpB,MAAMK,EAAUD,EACb,IAAIE,GACI;AAAA;AAAA,2BAEcA,EAAM,GAAG;AAAA;AAAA;AAAA,mCAGDA,EAAM,OAAO;AAAA,mCACbA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAMIA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iDAIdA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,SAM1D,EACA,KAAK,EAAE,EAEVN,EAAQ,mBAAmB,YAAaK,CAAO,EAC/CJ,EAAS,QAAO,CAClB,CCxCA,MAAMM,EACJ,2EAEIC,EAAO,SAAS,cAAc,WAAW,EAE/CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAEhB,KAAM,CAAE,OAAAC,CAAQ,EAAGD,EAAE,OAAO,SAE5B,GAAIC,EAAO,MAAM,KAAI,EAAG,SAAW,EAAG,MAAO,GAE7C,SAAS,cAAc,UAAU,EAAE,UAAY,+BAE/CZ,EAAYY,EAAO,MAAM,MAAM,EAC5B,KAAKC,GAAY,CAChB,GAAIA,EAAS,GACX,OAAOA,EAAS,OAEhB,MAAM,IAAI,MACR,gBAAgBA,EAAS,MAAM,cAC7BA,EAAS,YAAc,yBACnC,EACA,CAEA,CAAK,EACA,KAAKC,GAAQ,CACZ,MAAMC,EAAgBD,EAAK,KAAK,IAAIE,IAAQ,CAC1C,QAASA,EAAI,aACb,IAAKA,EAAI,cACT,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,UACf,MAAOA,EAAI,KACZ,EAAC,EACED,EAAc,OAAS,EACzBE,EAAS,MAAM,CACb,MAAO,gBACP,QAASR,CACnB,CAAS,EAEDJ,EAAcU,CAAa,CAEnC,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACb,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,GAASA,EAAO,OAAQ,CAC9B,CAAK,EAEHT,EAAK,MAAK,CACZ,CAAC"}